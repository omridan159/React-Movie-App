{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\DELL\\\\Desktop\\\\REACT MOVIES PROJECT\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{POSTER_SIZE,BACKDROP_SIZE,IMAGE_BASE_URL,POPULAR_BASE_URL,SEARCH_BASE_URL}from\"../config\";// import Components\nimport HeroImage from\"./elements/HeroImage\";import SearchBar from\"./elements/SearchBar\";import Grid from\"./elements/Grid\";import MovieThumb from\"./elements/MovieThumb\";import LoadMoreBtn from\"./elements/LoadMoreBtn\";import Spinner from\"./elements/Spinner\";// Custom Hook\nimport{useHomeFetch}from\"./hooks/useHomeFetch\";import NoImage from\"./images/no_image.jpg\";var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useHomeFetch=useHomeFetch(searchTerm),_useHomeFetch2=_slicedToArray(_useHomeFetch,2),_useHomeFetch2$=_useHomeFetch2[0],_useHomeFetch2$$state=_useHomeFetch2$.state,movies=_useHomeFetch2$$state.movies,currentPage=_useHomeFetch2$$state.currentPage,totalPages=_useHomeFetch2$$state.totalPages,heroImage=_useHomeFetch2$$state.heroImage,loading=_useHomeFetch2$.loading,error=_useHomeFetch2$.error,fetchMovies=_useHomeFetch2[1];var searchMovies=function searchMovies(search){var endpoint=search?SEARCH_BASE_URL+search:POPULAR_BASE_URL;setSearchTerm(search);fetchMovies(endpoint);};var loadMoreMovies=function loadMoreMovies(){var searchEndpoint=\"\".concat(SEARCH_BASE_URL).concat(searchTerm,\"&page=\").concat(currentPage+1);var popularEndpoint=\"\".concat(POPULAR_BASE_URL,\"&page=\").concat(currentPage+1);var endpoint=searchTerm?searchEndpoint:popularEndpoint;fetchMovies(endpoint);};if(error)return/*#__PURE__*/React.createElement(\"div\",null,\"Something went wrong ...\");if(!movies[0])return/*#__PURE__*/React.createElement(Spinner,null);return/*#__PURE__*/React.createElement(React.Fragment,null,!searchTerm&&/*#__PURE__*/React.createElement(HeroImage,{image:\"\".concat(IMAGE_BASE_URL).concat(BACKDROP_SIZE).concat(heroImage.backdrop_path),title:heroImage.original_title,text:heroImage.overview}),/*#__PURE__*/React.createElement(SearchBar,{callback:searchMovies}),/*#__PURE__*/React.createElement(Grid,{header:searchTerm?\"Search Reasult\":\"Popular Movies\"},movies.map(function(movie){return/*#__PURE__*/React.createElement(MovieThumb,{key:movie.id,clickable:true,image:movie.poster_path?\"\".concat(IMAGE_BASE_URL).concat(POSTER_SIZE).concat(movie.poster_path):NoImage,movieId:movie.id,movieName:movie.original_title});})),loading&&/*#__PURE__*/React.createElement(Spinner,null),currentPage<totalPages&&!loading&&/*#__PURE__*/React.createElement(LoadMoreBtn,{text:\"Load More\",callback:loadMoreMovies}));};export default Home;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/REACT MOVIES PROJECT/src/components/Home.js"],"names":["React","useState","POSTER_SIZE","BACKDROP_SIZE","IMAGE_BASE_URL","POPULAR_BASE_URL","SEARCH_BASE_URL","HeroImage","SearchBar","Grid","MovieThumb","LoadMoreBtn","Spinner","useHomeFetch","NoImage","Home","searchTerm","setSearchTerm","state","movies","currentPage","totalPages","heroImage","loading","error","fetchMovies","searchMovies","search","endpoint","loadMoreMovies","searchEndpoint","popularEndpoint","backdrop_path","original_title","overview","map","movie","id","poster_path"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  POSTER_SIZE,\r\n  BACKDROP_SIZE,\r\n  IMAGE_BASE_URL,\r\n  POPULAR_BASE_URL,\r\n  SEARCH_BASE_URL,\r\n} from \"../config\";\r\n\r\n// import Components\r\nimport HeroImage from \"./elements/HeroImage\";\r\nimport SearchBar from \"./elements/SearchBar\";\r\nimport Grid from \"./elements/Grid\";\r\nimport MovieThumb from \"./elements/MovieThumb\";\r\nimport LoadMoreBtn from \"./elements/LoadMoreBtn\";\r\nimport Spinner from \"./elements/Spinner\";\r\n\r\n// Custom Hook\r\nimport { useHomeFetch } from \"./hooks/useHomeFetch\";\r\n\r\nimport NoImage from \"./images/no_image.jpg\";\r\n\r\nconst Home = () => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  const [\r\n    {\r\n      state: { movies, currentPage, totalPages, heroImage },\r\n      loading,\r\n      error,\r\n    },\r\n    fetchMovies,\r\n  ] = useHomeFetch(searchTerm);\r\n\r\n  const searchMovies = (search) => {\r\n    const endpoint = search ? SEARCH_BASE_URL + search : POPULAR_BASE_URL;\r\n\r\n    setSearchTerm(search);\r\n    fetchMovies(endpoint);\r\n  };\r\n\r\n  const loadMoreMovies = () => {\r\n    const searchEndpoint = `${SEARCH_BASE_URL}${searchTerm}&page=${\r\n      currentPage + 1\r\n    }`;\r\n    const popularEndpoint = `${POPULAR_BASE_URL}&page=${currentPage + 1}`;\r\n\r\n    const endpoint = searchTerm ? searchEndpoint : popularEndpoint;\r\n\r\n    fetchMovies(endpoint);\r\n  };\r\n\r\n  if (error) return <div>Something went wrong ...</div>;\r\n  if (!movies[0]) return <Spinner />;\r\n\r\n  return (\r\n    <>\r\n      {!searchTerm && (\r\n        <HeroImage\r\n          image={`${IMAGE_BASE_URL}${BACKDROP_SIZE}${heroImage.backdrop_path}`}\r\n          title={heroImage.original_title}\r\n          text={heroImage.overview}\r\n        />\r\n      )}\r\n      <SearchBar callback={searchMovies} />\r\n      <Grid header={searchTerm ? \"Search Reasult\" : \"Popular Movies\"}>\r\n        {movies.map((movie) => (\r\n          <MovieThumb\r\n            key={movie.id}\r\n            clickable\r\n            image={\r\n              movie.poster_path\r\n                ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`\r\n                : NoImage\r\n            }\r\n            movieId={movie.id}\r\n            movieName={movie.original_title}\r\n          />\r\n        ))}\r\n      </Grid>\r\n      {loading && <Spinner />}\r\n      {currentPage < totalPages && !loading && (\r\n        <LoadMoreBtn text=\"Load More\" callback={loadMoreMovies} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}